eval(decodeURIComponent(escape(atob("Ly8g5Y+R6YCB5raI5oGvCgogICAgCiAgICAvLyDmlrDnmoTlh73mlbDvvJrojrflj5blm57lpI0KICAgIGZ1bmN0aW9uIGdldFJlc3BvbnNlKG1lc3NhZ2UpIHsKICAgICAgICAvLyDlsIblhbPplK7or43mjInplb/luqbku47plb/liLDnn63mjpLluo8KICAgICAgICBjb25zdCBzb3J0ZWRLZXlzID0gT2JqZWN0LmtleXMocmVzcG9uc2VzKS5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoKTsKICAgIAogICAgICAgIC8vIOmBjeWOhuaOkuW6j+WQjueahOWFs+mUruivjQogICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNvcnRlZEtleXMpIHsKICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoa2V5KSkgewogICAgICAgICAgICAgICAgLy8g5aaC5p6c55So5oi36L6T5YWl5a6M5YWo5Yy56YWN5p+Q5Liq5YWz6ZSu6K+N77yM55u05o6l6L+U5Zue5a+55bqU55qE5Zue5aSNCiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSA9PT0ga2V5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlc1trZXldW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJlc3BvbnNlc1trZXldLmxlbmd0aCldOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5aaC5p6c55So5oi36L6T5YWl5YyF5ZCr5YWz6ZSu6K+N77yM6L+U5Zue5a+55bqU55qE5Zue5aSNCiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VzW2tleV1bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmVzcG9uc2VzW2tleV0ubGVuZ3RoKV07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAKICAgICAgICAvLyDlpoLmnpzmsqHmnInljLnphY3liLDlhbPplK7or43vvIzov5Tlm57pu5jorqTlm57lpI0KICAgICAgICBjb25zdCBkZWZhdWx0UmVzcG9uc2VzID0gWwogICAgICAgICAgICAi6L+Z5Liq6Zeu6aKY55yL6LW35p2l5b6I5pyJ6Laj77yM5L2g5Y+v5Lul5Zyo5rWP6KeI5Zmo5LiK5pCc57Si5LiA5LiL5YWz5LqO6L+Z5Liq6Zeu6aKY55qE5L+h5oGv77yM5oiW6K646IO95aSf5biu5Yqp5Yiw5L2g44CC5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiBvKF7ilr1eKW8iLAogICAgICAgICAgICAi5oiR5LiN5aSq56Gu5a6a6L+Z5Liq6Zeu6aKY55qE562U5qGI77yM5L2g5Y+v5Lul5bCd6K+V55So5LiN5ZCM55qE5pa55byP5o+P6L+w5LiA5LiL77yM5oiR5Lya5bC95Yqb5biu5L2g77yB5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiIsCiAgICAgICAgICAgICLov5nkuKrpl67popjmnInngrnpmr7lk6bvvIzkuI3ov4fkvaDlj6/ku6Xor5Xor5XnnIvmn6Xmib7nm7jlhbPnmoTotYTmlpnvvIzor7TkuI3lrprog73mib7liLDnrZTmoYjjgILlj6/ku6XlnKjov5nph4zovpPlhaUg5byA5ZCv5pCc57Si5Yqf6IO9IOi/meagt+WwseiDveWkn+aQnOe0ouWIsOaCqOaDs+eci+eahOWVpiB+IiwKICAgICAgICAgICAgIuaIkeebruWJjei/mOS4jeWkquaYjueZveS9oOeahOmXrumimO+8jOS4jei/h+S9oOWPr+S7peivpue7huivtOivtO+8jOaIkeS8muWwveWKm+W4ruS9oOino+etlO+8geWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH4iLAogICAgICAgICAgICAi6L+Z5Liq6Zeu6aKY5aW95YOP6LaF5Ye65LqG5oiR55qE55+l6K+G6IyD5Zu05ZGi77yM5L2g5Y+v5Lul6K+V6K+V5Y676Zeu6Zeu5LiT5Lia5Lq65aOr5ZOm44CC5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiIsCiAgICAgICAgICAgICLmraPlpoLoi4/moLzmi4nlupXmiYDor7TvvJrigJjmiJHllK/kuIDnn6XpgZPnmoTlsLHmmK/miJHkuIDml6DmiYDnn6XjgILigJnmiJborrjov5nkuKrpl67popjpnIDopoHmm7Tmt7HlhaXnmoTmjqLorqjjgILlj6/ku6XlnKjov5nph4zovpPlhaUg5byA5ZCv5pCc57Si5Yqf6IO9IOi/meagt+WwseiDveWkn+aQnOe0ouWIsOaCqOaDs+eci+eahOWVpiB+IiwKICAgICAgICAgICAgIuWtlOWtkOS6ke+8muKAmOWtpuiAjOS4jeaAneWImee9lO+8jOaAneiAjOS4jeWtpuWImeauhuOAguKAmeaIluiuuOS9oOWPr+S7peS7juWkmuS4quinkuW6puaAneiAg+i/meS4qumXrumimO+8jOaIluiAheafpemYheabtOWkmui1hOaWmeOAguWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH4gbyhe4pa9XilvIiwKICAgICAgICAgICAgIui/meS4qumXrumimOW+iOaciea3seW6pu+8jOWwseWDj+S6mumHjOWjq+WkmuW+t+aJgOivtO+8muKAmOefpeivhuadpea6kOS6juWvuemXrumimOeahOS4jeaWrei/vemXruOAguKAmeS4jeWmqOWGjea3seWFpeaAneiAg+S4gOS4i+OAguWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH4iLAogICAgICAgICAgICAi5pyJ5pe25YCZ77yM562U5qGI5bm25LiN5Zyo5LqO5om+5Yiw5LiA5Liq5piO56Gu55qE57uT6K6677yM6ICM5Zyo5LqO5o6i57Si55qE6L+H56iL5pys6Lqr44CC5bCx5YOP54ix5Zug5pav5Z2m5omA6K+077ya4oCY5oOz6LGh5Yqb5q+U55+l6K+G5pu06YeN6KaB44CC4oCZ5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiBvKF7ilr1eKW8iLAogICAgICAgICAgICAi6L+Z5Liq6Zeu6aKY6K6p5oiR5oOz6LW35LqG5rW35piO5aiB55qE5LiA5Y+l6K+d77ya4oCY5bm456aP5LiN5piv5L2g5oul5pyJ55qE77yM6ICM5piv5L2g57uP5Y6G55qE44CC4oCZ5oiW6K64562U5qGI5bCx5Zyo5L2g55qE57uP5Y6G5Lit44CC5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiIsCiAgICAgICAgICAgICLmiJborrjov5nkuKrpl67popjpnIDopoHku47kuI3lkIznmoTmlofljJbog4zmma/kuK3lr7vmib7nrZTmoYjjgILlsLHlg4/ms7DmiIjlsJTmiYDor7TvvJrigJjnnJ/nkIbkuYvlt53ku47ku5bnmoTplJnor6/kuYvmsp/muKDkuK3mtYHov4fjgILigJnlj6/ku6XlnKjov5nph4zovpPlhaUg5byA5ZCv5pCc57Si5Yqf6IO9IOi/meagt+WwseiDveWkn+aQnOe0ouWIsOaCqOaDs+eci+eahOWVpiB+IiwKICAgICAgICAgICAgIui/meS4qumXrumimOW+iOacieaMkeaImOaAp++8jOWwseWDj+WwvOmHh+aJgOivtO+8muKAmOmCo+S6m+acquiDveWHu+WeruaIkeS7rOeahO+8jOS8muS9v+aIkeS7rOabtOW8uuWkp+OAguKAmeS9oOWPr+S7peWwneivleS7juWksei0peS4reWvu+aJvuWQr+ekuuOAguWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH4iLAogICAgICAgICAgICAi5pyJ5pe25YCZ77yM562U5qGI5bm25LiN5oC75piv5pi+6ICM5piT6KeB55qE44CC5bCx5YOP5qK16auY5omA6K+077ya4oCY5Lyf5aSn55qE5LqL5oOF6YO95piv5LuO5ri65bCP55qE5LqL5oOF5byA5aeL55qE44CC4oCZ5oiW6K645L2g5Y+v5Lul5LuO57uG6IqC5YWl5omL44CC5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiIsCiAgICAgICAgICAgICLov5nkuKrpl67popjorqnmiJHmg7PotbfkuobogIHlrZDnmoTjgIrpgZPlvrfnu4/jgIvvvJrigJjljYPph4zkuYvooYzvvIzlp4vkuo7otrPkuIvjgILigJnmiJborrjkvaDlj6/ku6Xku47kuIDkuKrlsI/pl67popjlvIDlp4vmjqLntKLjgILlj6/ku6XlnKjov5nph4zovpPlhaUg5byA5ZCv5pCc57Si5Yqf6IO9IOi/meagt+WwseiDveWkn+aQnOe0ouWIsOaCqOaDs+eci+eahOWVpiB+IiwKICAgICAgICAgICAgIuaIluiuuOi/meS4qumXrumimOmcgOimgeabtOWkmueahOiDjOaZr+S/oeaBr+adpeino+etlOOAguWwseWDj+atjOW+t+aJgOivtO+8muKAmOeQhuiuuuaYr+eBsOiJsueahO+8jOiAjOeUn+WRveS5i+agkeW4uOmdkuOAguKAmeWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH4iLAogICAgICAgICAgICAi6L+Z5Liq6Zeu6aKY5b6I5pyJ5oSP5oCd77yM5bCx5YOP6I6O5aOr5q+U5Lqa5omA6K+077ya4oCY55Sf5rS76YeM5rKh5pyJ5Lmm57GN77yM5bCx5aW95YOP5rKh5pyJ6Ziz5YWJ44CC4oCZ5oiW6K645L2g5Y+v5Lul5LuO5Lmm5Lit5a+75om+562U5qGI44CC5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiIsCiAgICAgICAgICAgICLmnInml7blgJnvvIzmnIDlpb3nmoTnrZTmoYjmnaXoh6rkuo7lhoXlv4PnmoTnm7Top4njgILlsLHlg4/moq3nvZfmiYDor7TvvJrigJjmiJHku6znmoTnlJ/mtLvlsLHlg4/lpKfmtbfvvIzlj6rmnInli4fmlaLnmoTkurrmiY3og73liLDovr7lvbzlsrjjgILigJkg5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfm8oXuKWvV4pbyIsCiAgICAgICAgICAgICLov5nkuKrpl67popjorqnmiJHmg7Potbfkuobmn4/mi4nlm77nmoTmtJ7nqbTlr5PoqIDvvJrnnJ/nkIblvoDlvoDpmpDol4/lnKjooajosaHkuYvkuIvjgILmiJborrjkvaDpnIDopoHmm7Tmt7HlhaXlnLDmjJbmjpjjgILlj6/ku6XlnKjov5nph4zovpPlhaUg5byA5ZCv5pCc57Si5Yqf6IO9IOi/meagt+WwseiDveWkn+aQnOe0ouWIsOaCqOaDs+eci+eahOWVpiB+IiwKICAgICAgICAgICAgIuaIluiuuOi/meS4qumXrumimOmcgOimgeS4gOS6m+aXtumXtOadpeaAneiAg+OAguWwseWDj+S9huS4geaJgOivtO+8muKAmOi1sOiHquW3seeahOi3r++8jOiuqeWIq+S6uuWOu+ivtOWQp+OAguKAmeWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH4gbyhe4pa9XilvIiwKICAgICAgICAgICAgIui/meS4qumXrumimOW+iOaciea3seW6pu+8jOWwseWDj+WNoeWkq+WNoeaJgOivtO+8muKAmOebrueahOW/hemhu+WdmuWumu+8jOmBk+i3r+WPr+S7peeBtea0u+OAguKAmeaIluiuuOS9oOWPr+S7peWwneivleS4jeWQjOeahOaWueazleadpeino+WGs+OAguWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH4iLAogICAgICAgICAgICAi5pyJ5pe25YCZ77yM562U5qGI5bCx5Zyo6Zeu6aKY5LmL5Lit44CC5bCx5YOP6buR5qC85bCU5omA6K+077ya4oCY55+b55u+5piv5o6o5Yqo5LqL54mp5Y+R5bGV55qE5Yqo5Yqb44CC4oCZ5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiIsCiAgICAgICAgICAgICLov5nkuKrpl67popjorqnmiJHmg7PotbfkuobjgIrluoTlrZDCt+mAjemBpea4uOOAi++8muKAmOWMl+WGpeaciemxvO+8jOWFtuWQjeS4uumysuOAguKAmeaIluiuuOetlOahiOmcgOimgeS7juabtOW5v+mYlOeahOinhumHjuS4reWvu+aJvuOAguWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH4iLAogICAgICAgICAgICAi5oiW6K646L+Z5Liq6Zeu6aKY6ZyA6KaB5pu05aSa55qE5oOz6LGh5Yqb44CC5bCx5YOP5oOg54m55pu85omA6K+077ya4oCY5oiR6LWe576O5oiR6Ieq5bex77yM5q2M5ZSx6Ieq5bex44CC4oCZ5oiW6K645L2g5Y+v5Lul5LuO6Ieq5oiR5o6i57Si5Lit5om+5Yiw562U5qGI44CC5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiIsCiAgICAgICAgICAgICLov5nkuKrpl67popjlvojmnInmjJHmiJjmgKfvvIzlsLHlg4/psoHov4XmiYDor7TvvJrigJjluIzmnJvmmK/pmYTkuL3kuo7lrZjlnKjnmoTvvIzmnInlrZjlnKjvvIzkvr/mnInluIzmnJvjgILigJnmiJborrjkvaDlj6/ku6Xku47luIzmnJvkuK3lr7vmib7nrZTmoYjjgILlj6/ku6XlnKjov5nph4zovpPlhaUg5byA5ZCv5pCc57Si5Yqf6IO9IOi/meagt+WwseiDveWkn+aQnOe0ouWIsOaCqOaDs+eci+eahOWVpiB+IiwKICAgICAgICAgICAgIuaIluiuuOi/meS4qumXrumimOmcgOimgeabtOWkmueahOiAkOW/g+OAguWwseWDj+eOi+mYs+aYjuaJgOivtO+8muKAmOefpeihjOWQiOS4gOOAguKAmeaIluiuuOS9oOWPr+S7pemAmui/h+Wunui3teadpeWvu+aJvuetlOahiOOAguWPr+S7peWcqOi/memHjOi+k+WFpSDlvIDlkK/mkJzntKLlip/og70g6L+Z5qC35bCx6IO95aSf5pCc57Si5Yiw5oKo5oOz55yL55qE5ZWmIH5vKF7ilr1eKW8iLAogICAgICAgICAgICAi6L+Z5Liq6Zeu6aKY6K6p5oiR5oOz6LW35LqG44CK6K666K+t44CL5Lit55qE5LiA5Y+l6K+d77ya4oCY5LiJ5Lq66KGM77yM5b+F5pyJ5oiR5biI54SJ44CC4oCZ5oiW6K645L2g5Y+v5Lul5ZCR5LuW5Lq66K+35pWZ44CC5Y+v5Lul5Zyo6L+Z6YeM6L6T5YWlIOW8gOWQr+aQnOe0ouWKn+iDvSDov5nmoLflsLHog73lpJ/mkJzntKLliLDmgqjmg7PnnIvnmoTllaYgfiIKICAgICAgICBdOwogICAgCiAgICAvLyDpmo/mnLrpgInmi6nkuIDkuKrpu5jorqTlm57lpI0KICAgIHJldHVybiBkZWZhdWx0UmVzcG9uc2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRlZmF1bHRSZXNwb25zZXMubGVuZ3RoKV07Cn0KCiAgICBmdW5jdGlvbiBhZGRNZXNzYWdlKHNlbmRlciwgdGV4dCwgY2xhc3NOYW1lKSB7CiAgICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsKICAgICAgICBwLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsKICAgICAgICBwLmlubmVySFRNTCA9IGA8Yj4ke3NlbmRlcn3vvJo8L2I+ICR7dGV4dH1gOwogICAgICAgIGNoYXRCb3guYXBwZW5kQ2hpbGQocCk7CiAgICAgICAgc2Nyb2xsVG9Cb3R0b20oKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gdHlwZU1lc3NhZ2Uoc2VuZGVyLCB0ZXh0LCBjbGFzc05hbWUpIHsKICAgICAgICBpc1R5cGluZyA9IHRydWU7IC8vIOagh+iusEFJ5byA5aeL5Zue5aSNCiAgICAgICAgZGlzYWJsZUlucHV0QW5kQnV0dG9uKCk7IC8vIOemgeeUqOi+k+WFpeahhuWSjOWPkemAgeaMiemSrgogICAgCiAgICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsKICAgICAgICBwLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsKICAgICAgICBwLmlubmVySFRNTCA9IGA8Yj4ke3NlbmRlcn3vvJo8L2I+IDxzcGFuIGNsYXNzPSJ0eXBpbmctdGV4dCI+PC9zcGFuPjxzcGFuIGNsYXNzPSJ0eXBpbmctZG90Ij7il4k8L3NwYW4+YDsKICAgICAgICBjaGF0Qm94LmFwcGVuZENoaWxkKHApOwogICAgICAgIHNjcm9sbFRvQm90dG9tKCk7CiAgICAKICAgICAgICBjb25zdCB0eXBpbmdEb3QgPSBwLnF1ZXJ5U2VsZWN0b3IoIi50eXBpbmctZG90Iik7CiAgICAgICAgY29uc3QgdHlwaW5nVGV4dCA9IHAucXVlcnlTZWxlY3RvcigiLnR5cGluZy10ZXh0Iik7CiAgICAKICAgICAgICBsZXQgc2NhbGUgPSAxOwogICAgICAgIGxldCBncm93aW5nID0gdHJ1ZTsKICAgICAgICBjb25zdCBhbmltYXRlVHlwaW5nID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICBzY2FsZSA9IGdyb3dpbmcgPyBzY2FsZSArIDAuMSA6IHNjYWxlIC0gMC4xOwogICAgICAgICAgICBpZiAoc2NhbGUgPj0gMS41KSBncm93aW5nID0gZmFsc2U7CiAgICAgICAgICAgIGlmIChzY2FsZSA8PSAxKSBncm93aW5nID0gdHJ1ZTsKICAgICAgICAgICAgdHlwaW5nRG90LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3NjYWxlfSlgOwogICAgICAgIH0sIDEwMCk7CiAgICAKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChhbmltYXRlVHlwaW5nKTsKICAgICAgICAgICAgdHlwaW5nRG90LnN0eWxlLnRyYW5zZm9ybSA9ICJzY2FsZSgxKSI7CiAgICAgICAgICAgIHR5cGluZ0RvdC5zdHlsZS5hbmltYXRpb24gPSAibm9uZSI7CiAgICAKICAgICAgICAgICAgbGV0IGluZGV4ID0gMDsKICAgICAgICAgICAgY29uc3QgdHlwZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgdGV4dC5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICB0eXBpbmdUZXh0LmlubmVySFRNTCArPSB0ZXh0W2luZGV4XTsKICAgICAgICAgICAgICAgICAgICBpbmRleCsrOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHR5cGVJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgdHlwaW5nRG90LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGlzVHlwaW5nID0gZmFsc2U7IC8vIOagh+iusEFJ5Zue5aSN5a6M5q+VCiAgICAgICAgICAgICAgICAgICAgZW5hYmxlSW5wdXRBbmRCdXR0b24oKTsgLy8g5ZCv55So6L6T5YWl5qGG5ZKM5Y+R6YCB5oyJ6ZKuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzY3JvbGxUb0JvdHRvbSgpOwogICAgICAgICAgICB9LCAxMik7CiAgICAgICAgfSwgNTAwMCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHNjcm9sbFRvQm90dG9tKCkgewogICAgICAgIGNoYXRCb3guc2Nyb2xsVG8oeyB0b3A6IGNoYXRCb3guc2Nyb2xsSGVpZ2h0LCBiZWhhdmlvcjogInNtb290aCIgfSk7CiAgICB9CiAgICAKICAgIHVzZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQua2V5ID09PSAiRW50ZXIiKSB7CiAgICAgICAgICAgIHNlbmRNZXNzYWdlKCk7CiAgICAgICAgfQogICAgfSk7CiAgICAKICAgIGZ1bmN0aW9uIHF1aWNrUmVwbHkoYnV0dG9uLCB0ZXh0KSB7CiAgICAgICAgaWYgKGlzVHlwaW5nKSByZXR1cm47IC8vIOWmguaenEFJ5q2j5Zyo5Zue5aSN77yM5YiZ55u05o6l6L+U5Zue77yM5LiN5omn6KGM5b+r5o235Zue5aSNCiAgICAgICAgdXNlcklucHV0LnZhbHVlID0gdGV4dDsKICAgICAgICBzZW5kTWVzc2FnZSgpOwogICAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfQogICAgCiAgICAvLyDnpoHnlKjovpPlhaXmoYblkozlj5HpgIHmjInpkq4KICAgIGZ1bmN0aW9uIGRpc2FibGVJbnB1dEFuZEJ1dHRvbigpIHsKICAgICAgICB1c2VySW5wdXQuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgIHNlbmRCdXR0b24uZGlzYWJsZWQgPSB0cnVlOwogICAgfQogICAgCiAgICAvLyDlkK/nlKjovpPlhaXmoYblkozlj5HpgIHmjInpkq4KICAgIGZ1bmN0aW9uIGVuYWJsZUlucHV0QW5kQnV0dG9uKCkgewogICAgICAgIHVzZXJJbnB1dC5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIHNlbmRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTsKICAgIH0KICAgIAoKCgogICAgZnVuY3Rpb24gc3BlYWtNZXNzYWdlKCkgewogICAgICBjb25zdCBhaU1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYWktbWVzc2FnZTpsYXN0LWNoaWxkIik7CiAgICAgIGlmICghYWlNZXNzYWdlKSByZXR1cm47CiAgCiAgICAgIGNvbnN0IHRleHQgPSBhaU1lc3NhZ2UudGV4dENvbnRlbnQucmVwbGFjZSgi54Gr54uu5Yqp5omL77yaIiwgIiIpLnRyaW0oKTsKICAgICAgaWYgKCF0ZXh0KSByZXR1cm47CgogIAogICAgICBjb25zdCB1dHRlcmFuY2UgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpOwogICAgICB1dHRlcmFuY2UubGFuZyA9ICJ6aC1DTiI7CiAgICAgIHV0dGVyYW5jZS5yYXRlID0gMS41OwogICAgICB1dHRlcmFuY2UucGl0Y2ggPSAxOwogICAgICB1dHRlcmFuY2Uudm9sdW1lID0gMTsKICAKICAgICAgLy8g5YWI5riF56m65LmL5YmN55qE6K+t6Z+z77yM6Ziy5q2i5Yay56qBCiAgICAgIHdpbmRvdy5zcGVlY2hTeW50aGVzaXMuY2FuY2VsKCk7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgd2luZG93LnNwZWVjaFN5bnRoZXNpcy5zcGVhayh1dHRlcmFuY2UpOwogICAgICB9LCAxMDApOyAvLyDpgILlvZPlu7bov5/vvIzpmLLmraIgY2FuY2VsKCkg5a+86Ie05pKt5pS+5aSx6LSlCiAgCiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdG9wLXZvaWNlLWJ1dHRvbiIpLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWFrLWJ1dHRvbiIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgCiAgICAgIHV0dGVyYW5jZS5vbmVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdG9wLXZvaWNlLWJ1dHRvbiIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlYWstYnV0dG9uIikuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgICB9OwogIAogICAgICB1dHRlcmFuY2Uub25lcnJvciA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgY29uc29sZS5lcnJvcigi6K+t6Z+z5pKt5pS+5Y+R55Sf6ZSZ6K+v77yaIiwgZXZlbnQpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN0b3Atdm9pY2UtYnV0dG9uIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVhay1idXR0b24iKS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICAgIH07CiAgfQogIAoKCgoKICAvLyDmlrDku6PnoIEg57uE5ZCI6K+NIOWIhuaekCBhaSDlm57lpI0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovL+S7peS4iueahOiBiuWkqeS7o+eggeW3suiiq+enu+WKqOWIsOWFtuWug+aWh+S7tuS4rQoKCgoKCgoKCgoKCi8vIOajgOafpeWFs+mUruivjee7hOWQiOaYr+WQpuWMuemFjQpmdW5jdGlvbiBjaGVja0tleXdvcmRNYXRjaChtZXNzYWdlKSB7CiAgY29uc3QgbG93ZXJNZXNzYWdlID0gbWVzc2FnZS50b0xvd2VyQ2FzZSgpOyAvLyDovazmjaLkuLrlsI/lhpnku6Xkvr/kuI3ljLrliIblpKflsI/lhpkKICBmb3IgKGNvbnN0IGl0ZW0gb2Yga2V5d29yZFJlc3BvbnNlcykgewogICAgICBjb25zdCBhbGxLZXl3b3Jkc1ByZXNlbnQgPSBpdGVtLmtleXdvcmRzLmV2ZXJ5KGtleXdvcmQgPT4gbG93ZXJNZXNzYWdlLmluY2x1ZGVzKGtleXdvcmQpKTsKICAgICAgaWYgKGFsbEtleXdvcmRzUHJlc2VudCkgewogICAgICAgICAgcmV0dXJuIGl0ZW0ucmVzcG9uc2VzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGl0ZW0ucmVzcG9uc2VzLmxlbmd0aCldOyAvLyDpmo/mnLrpgInmi6nkuIDkuKrlm57lpI0KICAgICAgfQogIH0KICByZXR1cm4gbnVsbDsgLy8g5aaC5p6c5LiN5Yy56YWN77yM6L+U5ZueIG51bGwKfQoKLy8g6Kej5Yaz6YeN5aSN5Y+R6YCB6Zeu6aKYCmxldCBzZW5kTWVzc2FnZUNhbGxlZCA9IGZhbHNlOyAvLyDpmLLmraLph43lpI3osIPnlKgKCmZ1bmN0aW9uIHNlbmRNZXNzYWdlKCkgewogIGlmIChpc1R5cGluZyB8fCBzZW5kTWVzc2FnZUNhbGxlZCkgcmV0dXJuOyAvLyDlpoLmnpwgQUkg5q2j5Zyo5Zue5aSN5oiW5bey5Y+R6YCB5raI5oGv77yM5YiZ55u05o6l6L+U5ZueCiAgc2VuZE1lc3NhZ2VDYWxsZWQgPSB0cnVlOyAvLyDmoIforrDlt7LosIPnlKgKCiAgc2V0VGltZW91dCgoKSA9PiB7IHNlbmRNZXNzYWdlQ2FsbGVkID0gZmFsc2U7IH0sIDUwMCk7IC8vIDUwMG1zIOWQjuWFgeiuuOmHjeaWsOWPkemAgQoKICBjb25zdCBtZXNzYWdlID0gdXNlcklucHV0LnZhbHVlLnRyaW0oKTsKICBpZiAobWVzc2FnZSA9PT0gIiIpIHJldHVybjsKCiAgYWRkTWVzc2FnZSgi5L2gIiwgbWVzc2FnZSwgInVzZXItbWVzc2FnZSIpOwoKICAvLyAqKuS8mOWFiOajgOafpeWFs+mUruivjeWMuemFjSoqCiAgY29uc3Qga2V5d29yZFJlc3BvbnNlID0gY2hlY2tLZXl3b3JkTWF0Y2gobWVzc2FnZSk7CiAgaWYgKGtleXdvcmRSZXNwb25zZSkgewogICAgICB0eXBlTWVzc2FnZSgi54Gr54uu5Yqp5omLIiwga2V5d29yZFJlc3BvbnNlLCAiYWktbWVzc2FnZSIpOwogIH0gZWxzZSBpZiAoaXNNYXRoRXhwcmVzc2lvbihtZXNzYWdlKSkgewogICAgICAvLyAqKuWmguaenOWFs+mUruivjeWMuemFjeWksei0pe+8jOWGjeajgOafpeaYr+WQpuS4uuaVsOWtpuihqOi+vuW8jyoqCiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZU1hdGgobWVzc2FnZSk7CiAgICAgIHR5cGVNZXNzYWdlKCLngavni67liqnmiYsiLCByZXN1bHQudG9TdHJpbmcoKSwgImFpLW1lc3NhZ2UiKTsKICB9IGVsc2UgewogICAgICAvLyAqKuWmguaenOmDveS4jeaYr++8jOS9v+eUqOm7mOiupOeahOWFs+mUruivjeWbnuWkjSoqCiAgICAgIGxldCByZXNwb25zZSA9IGdldFJlc3BvbnNlKG1lc3NhZ2UpOwogICAgICB0eXBlTWVzc2FnZSgi54Gr54uu5Yqp5omLIiwgcmVzcG9uc2UsICJhaS1tZXNzYWdlIik7CiAgfQoKICB1c2VySW5wdXQudmFsdWUgPSAiIjsgLy8g5riF56m66L6T5YWl5qGGCn0KCgoKICAgLy8g5pS56L+b5ZCO55qEIGlzTWF0aEV4cHJlc3Npb24g5Ye95pWwX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KLy8g5qOA5p+l5piv5ZCm5Li65pWw5a2m6KGo6L6+5byPCgpmdW5jdGlvbiBpc01hdGhFeHByZXNzaW9uKG1lc3NhZ2UpIHsKICBtZXNzYWdlID0gbWVzc2FnZS50cmltKCk7CiAgcmV0dXJuIC9bK1wtKi9eKCk9XS8udGVzdChtZXNzYWdlKSB8fCAv5YqgfOWHj3zkuZh86ZmkfMO3fMOXfMK3fCUvLnRlc3QobWVzc2FnZSk7Cn0KCi8v5pWw5a2mCgpmdW5jdGlvbiBjYWxjdWxhdGVNYXRoKGV4cHJlc3Npb24pIHsKICB0cnkgewogICAgICAvLyDmuIXnkIbooajovr7lvI/vvIzmm7/mjaLkuK3mlofnrKblj7cKICAgICAgbGV0IGNsZWFuZWRFeHByZXNzaW9uID0gZXhwcmVzc2lvbgogICAgICAgICAgLnJlcGxhY2UoL+WKoC9nLCAnKycpCiAgICAgICAgICAucmVwbGFjZSgv5YePL2csICctJykKICAgICAgICAgIC5yZXBsYWNlKC/kuZgvZywgJyonKQogICAgICAgICAgLnJlcGxhY2UoL+mZpC9nLCAnLycpCiAgICAgICAgICAucmVwbGFjZSgvw7cvZywgJy8nKQogICAgICAgICAgLnJlcGxhY2UoL8OXL2csICcqJykKICAgICAgICAgIC5yZXBsYWNlKC/Cty9nLCAnKicpOwoKICAgICAgLy8g5aSE55CGIuaVsOWtlyDCsSDnmb7liIbmr5QiIOS+i+WmgiAxMDAgKyA1MCUg5Y+Y5Li6IDEwMCArICgxMDAgKiA1MCAvIDEwMCkKICAgICAgY2xlYW5lZEV4cHJlc3Npb24gPSBjbGVhbmVkRXhwcmVzc2lvbi5yZXBsYWNlKC8oXGQrKVxzKihbXCtcLV0pXHMqKFxkKyklL2csIChtYXRjaCwgbnVtLCBvcGVyYXRvciwgcGVyY2VudCkgPT4gewogICAgICAgICAgcmV0dXJuIGAke251bX0gJHtvcGVyYXRvcn0gKCR7bnVtfSAqICR7cGVyY2VudH0gLyAxMDApYDsKICAgICAgfSk7CgogICAgICAvLyDlpITnkIYi5pWw5a2XICog5oiWIC8g55m+5YiG5q+UIiDkvovlpoIgMTAwICogNTAlIOWPmOS4uiAxMDAgKiAoNTAgLyAxMDApCiAgICAgIGNsZWFuZWRFeHByZXNzaW9uID0gY2xlYW5lZEV4cHJlc3Npb24ucmVwbGFjZSgvKFxkKylccyooW1wqL10pXHMqKFxkKyklL2csIChtYXRjaCwgbnVtLCBvcGVyYXRvciwgcGVyY2VudCkgPT4gewogICAgICAgICAgcmV0dXJuIGAke251bX0gJHtvcGVyYXRvcn0gKCR7cGVyY2VudH0gLyAxMDApYDsKICAgICAgfSk7CgogICAgICAvLyDnoa7kv53ooajovr7lvI/lj6rljIXlkKvmlbDlrZfjgIHov5DnrpfnrKbjgIHlsI/mlbDngrnlkozmi6zlj7cKICAgICAgY2xlYW5lZEV4cHJlc3Npb24gPSBjbGVhbmVkRXhwcmVzc2lvbi5yZXBsYWNlKC9bXjAtOStcLSovKCkuXS9nLCAnJyk7CgogICAgICAvLyDorqHnrpfooajovr7lvI8KICAgICAgY29uc3QgcmVzdWx0ID0gZXZhbChjbGVhbmVkRXhwcmVzc2lvbik7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgcmV0dXJuICLmirHmrYnvvIzov5nkuKrmlbDlrabooajovr7lvI/ml6Dms5XorqHnrpfvvIzor7fnoa7kv53ooajovr7lvI/mraPnoa7kuJTlj6rljIXlkKvmlbDlrZflkozov5DnrpfnrKbjgIIiOwogIH0KfQoKCgoKLy8g5pCc57Si5Yqf6IO9IAoKbGV0IHNlYXJjaEVuYWJsZWQgPSBmYWxzZTsgLy8g5piv5ZCm5ZCv55So5pCc57Si5qih5byPCmxldCBzZWFyY2hGcmFtZSA9IG51bGw7IC8vIOeUqOS6juWtmOWCqOaQnOe0oueql+WPowoKZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7CiAgICBpZiAoaXNUeXBpbmcgfHwgc2VuZE1lc3NhZ2VDYWxsZWQpIHJldHVybjsKICAgIHNlbmRNZXNzYWdlQ2FsbGVkID0gdHJ1ZTsKICAgIHNldFRpbWVvdXQoKCkgPT4geyBzZW5kTWVzc2FnZUNhbGxlZCA9IGZhbHNlOyB9LCA1MDApOwoKICAgIGNvbnN0IG1lc3NhZ2UgPSB1c2VySW5wdXQudmFsdWUudHJpbSgpOwogICAgaWYgKG1lc3NhZ2UgPT09ICIiKSByZXR1cm47CgogICAgYWRkTWVzc2FnZSgi5L2gIiwgbWVzc2FnZSwgInVzZXItbWVzc2FnZSIpOwoKICAgIC8vIOW8gOWQr+aQnOe0ouWKn+iDvQogICAgaWYgKG1lc3NhZ2UgPT09ICLlvIDlkK/mkJzntKLlip/og70iKSB7CiAgICAgICAgc2VhcmNoRW5hYmxlZCA9IHRydWU7CiAgICAgICAgdHlwZU1lc3NhZ2UoIueBq+eLruWKqeaJiyIsICLmkJzntKLlip/og73lt7LlvIDlkK/vvIzor7fovpPlhaXmkJzntKLlhoXlrrnjgIIg77+077+0IO+/tCDvv7Tvv7Qg77+0IO+/tCDvv7Tvv7Tvv7Qg77+077+0IO+/tCDvv7Tvv7QgIO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7Qg77+077+077+0IO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7QgIO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7Qg77+077+077+0IO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7QgIO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7Qg77+077+077+0IO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7QgIO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7Qg77+077+077+0IO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7QgIO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7Qg77+077+077+0IO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7QgIO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7Qg77+077+077+0IO+/tO+/tCDvv7Qg77+077+0IO+/tCDvv7Qg77+0IO+/tCDmj5DnpLrvvJrlpoLmnpzmgqjopoHlhbPpl63mkJzntKLlip/og73lj6/ku6Xnm7TmjqXovpPlhaUg5YWz6Zet5pCc57Si5Yqf6IO9IiwgImFpLW1lc3NhZ2UiKTsKICAgICAgICB1c2VySW5wdXQudmFsdWUgPSAiIjsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgLy8g5YWz6Zet5pCc57Si5Yqf6IO9CiAgICBpZiAobWVzc2FnZSA9PT0gIuWFs+mXreaQnOe0ouWKn+iDvSIpIHsKICAgICAgICBzZWFyY2hFbmFibGVkID0gZmFsc2U7CiAgICAgICAgaWYgKHNlYXJjaEZyYW1lKSB7CiAgICAgICAgICAgIHNlYXJjaEZyYW1lLnJlbW92ZSgpOyAvLyDnp7vpmaTltYzlhaXnmoQgQmluZyDnu5PmnpwKICAgICAgICAgICAgc2VhcmNoRnJhbWUgPSBudWxsOwogICAgICAgIH0KICAgICAgICB0eXBlTWVzc2FnZSgi54Gr54uu5Yqp5omLIiwgIuaQnOe0ouWKn+iDveW3suWFs+mXre+8jOaBouWkjeiBiuWkqeaooeW8j+OAgiIsICJhaS1tZXNzYWdlIik7CiAgICAgICAgdXNlcklucHV0LnZhbHVlID0gIiI7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIOWcqOaQnOe0ouaooeW8j+S4i+i/m+ihjOaQnOe0ogogICAgaWYgKHNlYXJjaEVuYWJsZWQpIHsKICAgICAgICB0eXBlTWVzc2FnZSgi54Gr54uu5Yqp5omLIiwgIuato+WcqOaQnOe0ou+8jOivt+eojeWAmS4uLiAg5Lul5LiL5piv5pCc57Si57uT5p6cIiwgImFpLW1lc3NhZ2UiKTsKCiAgICAgICAgLy8g5Yig6Zmk5LmL5YmN55qE5pCc57Si56qX5Y+jCiAgICAgICAgaWYgKHNlYXJjaEZyYW1lKSB7CiAgICAgICAgICAgIHNlYXJjaEZyYW1lLnJlbW92ZSgpOwogICAgICAgIH0KCiAgICAgICAgLy8g5Yib5bu65LiA5LiqIGlmcmFtZSDkvZzkuLrmkJzntKLnqpflj6MKICAgICAgICBzZWFyY2hGcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpOwogICAgICAgIHNlYXJjaEZyYW1lLnNyYyA9IGBodHRwczovL3d3dy5iaW5nLmNvbS9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChtZXNzYWdlKX1gOwogICAgICAgIHNlYXJjaEZyYW1lLnN0eWxlLndpZHRoID0gIjEwMCUiOwogICAgICAgIHNlYXJjaEZyYW1lLnN0eWxlLmhlaWdodCA9ICI0MDBweCI7CiAgICAgICAgc2VhcmNoRnJhbWUuc3R5bGUuYm9yZGVyID0gIm5vbmUiOwogICAgICAgIHNlYXJjaEZyYW1lLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI4cHgiOwogICAgICAgIHNlYXJjaEZyYW1lLnN0eWxlLm1hcmdpblRvcCA9ICIxMHB4IjsKICAgICAgICBzZWFyY2hGcmFtZS5zdHlsZS5wYWRkaW5nVG9wID0gIjUwcHgiOyAvLyDlop7liqDkuIrmlrnpl7Tot50KCgogICAgICAgIC8vIOetieW+hSBBSSDlm57lpI3lrozmiJDlkI7mj5LlhaUgaWZyYW1lCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIGNoYXRCb3guYXBwZW5kQ2hpbGQoc2VhcmNoRnJhbWUpOwogICAgICAgICAgICBzY3JvbGxUb0JvdHRvbSgpOyAvLyDmu5rliqjliLDlupXpg6gKICAgICAgICB9LCAxMDAwKTsKCiAgICAgICAgdXNlcklucHV0LnZhbHVlID0gIiI7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vICoq5YW25LuW5q2j5bi46IGK5aSp6YC76L6RKioKICAgIGNvbnN0IGtleXdvcmRSZXNwb25zZSA9IGNoZWNrS2V5d29yZE1hdGNoKG1lc3NhZ2UpOwogICAgaWYgKGtleXdvcmRSZXNwb25zZSkgewogICAgICAgIHR5cGVNZXNzYWdlKCLngavni67liqnmiYsiLCBrZXl3b3JkUmVzcG9uc2UsICJhaS1tZXNzYWdlIik7CiAgICB9IGVsc2UgaWYgKGlzTWF0aEV4cHJlc3Npb24obWVzc2FnZSkpIHsKICAgICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVNYXRoKG1lc3NhZ2UpOwogICAgICAgIHR5cGVNZXNzYWdlKCLngavni67liqnmiYsiLCByZXN1bHQudG9TdHJpbmcoKSwgImFpLW1lc3NhZ2UiKTsKICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHJlc3BvbnNlID0gZ2V0UmVzcG9uc2UobWVzc2FnZSk7CiAgICAgICAgdHlwZU1lc3NhZ2UoIueBq+eLruWKqeaJiyIsIHJlc3BvbnNlLCAiYWktbWVzc2FnZSIpOwogICAgfQoKICAgIHVzZXJJbnB1dC52YWx1ZSA9ICIiOwp9CgoKCgovLyDmjInpkq7mkJzntKLlm57lpI0KCmZ1bmN0aW9uIHRvZ2dsZUJ1dHRvbnMoKSB7CiAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJ1dHRvbi1jb250YWluZXIiKTsKICBjb25zdCB0b2dnbGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidG9nZ2xlLWJ1dHRvbiIpOwoKICBpZiAoYnV0dG9uQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygiaGlkZGVuIikpIHsKICAgICAgYnV0dG9uQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoImhpZGRlbiIpOwogICAgICB0b2dnbGVCdXR0b24udGV4dENvbnRlbnQgPSAi6ZqQ6JeP5YaF5a65IjsKICB9IGVsc2UgewogICAgICBidXR0b25Db250YWluZXIuY2xhc3NMaXN0LmFkZCgiaGlkZGVuIik7CiAgICAgIHRvZ2dsZUJ1dHRvbi50ZXh0Q29udGVudCA9ICLmmL7npLrlhoXlrrkiOwogIH0KfQoKCgovLyDlvZXpn7MKCi8vIHZvaWNlSW5wdXQuanMKCi8vIOivremfs+i+k+WFpeebuOWFs+WPmOmHjwpsZXQgcmVjb2duaXRpb247CmxldCBpc1ZvaWNlSW5wdXRBY3RpdmUgPSBmYWxzZTsKCi8vIOWQr+WKqOivremfs+i+k+WFpQpmdW5jdGlvbiBzdGFydFZvaWNlSW5wdXQoKSB7CiAgICBpZiAoIXdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiAmJiAhd2luZG93LndlYmtpdFNwZWVjaFJlY29nbml0aW9uKSB7CiAgICAgICAgYWxlcnQoIuW9k+WJjea1j+iniOWZqOS4jeaUr+aMgeivremfs+i+k+WFpeWKn+iDve+8jOivt+S9v+eUqOaUr+aMgVdlYiBTcGVlY2ggQVBJ55qE5rWP6KeI5Zmo77yI5aaCQ2hyb21l77yJ44CCIik7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJlY29nbml0aW9uID0gbmV3ICh3aW5kb3cuU3BlZWNoUmVjb2duaXRpb24gfHwgd2luZG93LndlYmtpdFNwZWVjaFJlY29nbml0aW9uKSgpOwogICAgcmVjb2duaXRpb24ubGFuZyA9ICJ6aC1DTiI7IC8vIOiuvue9ruivreiogOS4uuS4reaWhwogICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSBmYWxzZTsgLy8g5LiN5pi+56S65Lit6Ze057uT5p6cCiAgICByZWNvZ25pdGlvbi5tYXhBbHRlcm5hdGl2ZXMgPSAxOyAvLyDmnIDlpJrov5Tlm57kuIDkuKrnu5PmnpwKCiAgICByZWNvZ25pdGlvbi5vbnJlc3VsdCA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgY29uc3QgdHJhbnNjcmlwdCA9IGV2ZW50LnJlc3VsdHNbMF1bMF0udHJhbnNjcmlwdDsgLy8g6I635Y+W6K+t6Z+z6K+G5Yir57uT5p6cCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInVzZXItaW5wdXQiKS52YWx1ZSA9IHRyYW5zY3JpcHQ7IC8vIOWwhue7k+aenOWhq+WFpei+k+WFpeahhgogICAgICAgIHN0b3BWb2ljZUlucHV0KCk7IC8vIOWBnOatouW9lemfswogICAgICAgIHNlbmRNZXNzYWdlKCk7IC8vIOiHquWKqOWPkemAgea2iOaBrwogICAgfTsKCiAgICByZWNvZ25pdGlvbi5vbmVycm9yID0gZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLor63pn7Por4bliKvplJnor6/vvJoiLCBldmVudC5lcnJvcik7CiAgICAgICAgc3RvcFZvaWNlSW5wdXQoKTsgLy8g5Ye66ZSZ5pe25YGc5q2i5b2V6Z+zCiAgICB9OwoKICAgIHJlY29nbml0aW9uLnN0YXJ0KCk7IC8vIOW8gOWni+ivremfs+ivhuWIqwogICAgaXNWb2ljZUlucHV0QWN0aXZlID0gdHJ1ZTsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJodW9zaGlzb3VuZGF1ZGlvLWJ1dHRvbiIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaHVvc2hpc291bmRhdWRpby1zdG9wLWJ1dHRvbiIpLnN0eWxlLmRpc3BsYXkgPSAiaW5saW5lLWJsb2NrIjsKfQoKLy8g5YGc5q2i6K+t6Z+z6L6T5YWlCmZ1bmN0aW9uIHN0b3BWb2ljZUlucHV0KCkgewogICAgaWYgKHJlY29nbml0aW9uKSB7CiAgICAgICAgcmVjb2duaXRpb24uc3RvcCgpOyAvLyDlgZzmraLor63pn7Por4bliKsKICAgIH0KICAgIGlzVm9pY2VJbnB1dEFjdGl2ZSA9IGZhbHNlOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImh1b3NoaXNvdW5kYXVkaW8tYnV0dG9uIikuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtYmxvY2siOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImh1b3NoaXNvdW5kYXVkaW8tc3RvcC1idXR0b24iKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwp9CgovLyDliIfmjaLor63pn7PovpPlhaXnirbmgIEKZnVuY3Rpb24gdG9nZ2xlVm9pY2VJbnB1dCgpIHsKICAgIGlmIChpc1ZvaWNlSW5wdXRBY3RpdmUpIHsKICAgICAgICBzdG9wVm9pY2VJbnB1dCgpOwogICAgfSBlbHNlIHsKICAgICAgICBzdGFydFZvaWNlSW5wdXQoKTsKICAgIH0KfQoKCgovLyBnZW5zaGluIOWOn+elngoKLy8g5pe26Ze0CgpmdW5jdGlvbiB1cGRhdGVUaW1lKCkgewogICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsKICAgIGNvbnN0IHRpbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2h1b3NoaXRpbWVzaGlqaWFuLXRpbWUtdGV4dCcpOwogICAgY29uc3QgZGF0ZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHVvc2hpdGltZXNoaWppYW4tZGF0ZS10ZXh0Jyk7CiAgICAKICAgIGNvbnN0IHRpbWVTdHJpbmcgPSBub3cudG9Mb2NhbGVUaW1lU3RyaW5nKCdlbi1VUycsIHsKICAgICAgICBob3VyMTI6IGZhbHNlLAogICAgICAgIGhvdXI6ICcyLWRpZ2l0JywKICAgICAgICBtaW51dGU6ICcyLWRpZ2l0JywKICAgICAgICBzZWNvbmQ6ICcyLWRpZ2l0JwogICAgfSkucmVwbGFjZSgvOi9nLCAnPHNwYW4gY2xhc3M9ImNvbG9uIj46PC9zcGFuPicpOwogICAgCiAgICBjb25zdCBkYXRlU3RyaW5nID0gbm93LnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7CiAgICAgICAgd2Vla2RheTogJ2xvbmcnLAogICAgICAgIHllYXI6ICdudW1lcmljJywKICAgICAgICBtb250aDogJ2xvbmcnLAogICAgICAgIGRheTogJ251bWVyaWMnCiAgICB9KS50b1VwcGVyQ2FzZSgpOwoKICAgIHRpbWVFbGVtZW50LmlubmVySFRNTCA9IHRpbWVTdHJpbmc7CiAgICBkYXRlRWxlbWVudC50ZXh0Q29udGVudCA9IGRhdGVTdHJpbmc7Cn0KCi8vIOWIneWni+WMlgpzZXRJbnRlcnZhbCh1cGRhdGVUaW1lLCAxMDAwKTsKdXBkYXRlVGltZSgpOw=="))));
